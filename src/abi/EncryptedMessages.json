{
  "_format": "hh3-artifact-1",
  "contractName": "EncryptedMessages",
  "sourceName": "contracts/messages.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "receiver",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "MessageStored",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "n",
          "type": "uint256"
        }
      ],
      "name": "getLatestMessageIdsFor",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "ids",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "getMessage",
      "outputs": [
        {
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "receiver",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "ciphertext",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getMessageCountFor",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "count",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getMessageIdsFor",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "ids",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "receiver",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "ciphertext",
          "type": "string"
        }
      ],
      "name": "storeMessage",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052348015600e575f5ffd5b506109668061001c5f395ff3fe608060405234801561000f575f5ffd5b5060043610610055575f3560e01c80630d87afbe146100595780631df83f591461007f57806386f79edb1461009f578063afcc0905146100c2578063f10a7691146100ea575b5f5ffd5b61006c6100673660046105fe565b6100fd565b6040519081526020015b60405180910390f35b61009261008d36600461067c565b6102ea565b604051610076919061069c565b6100b26100ad3660046106de565b610353565b60405161007694939291906106f5565b61006c6100d036600461067c565b6001600160a01b03165f9081526002602052604090205490565b6100926100f836600461074f565b6104d1565b5f6001600160a01b03841661014c5760405162461bcd60e51b815260206004820152601060248201526f24b73b30b634b2103932b1b2b4bb32b960811b60448201526064015b60405180910390fd5b5f8054908061015a8361078b565b91905055505f5490506040518060a00160405280828152602001336001600160a01b03168152602001856001600160a01b0316815260200184848080601f0160208091040260200160405190810160405280939291908181526020018383808284375f920182905250938552505042602093840152508381526001808352604091829020845181559284015190830180546001600160a01b03199081166001600160a01b03938416179091559184015160028401805490931691161790556060820151600382019061022c908261083b565b5060809190910151600490910155335f818152600260209081526040822080546001810182559083529120018290556001600160a01b03851614610295576001600160a01b0384165f908152600260209081526040822080546001810182559083529120018190555b836001600160a01b0316336001600160a01b0316827f0fdc649d679f7453fa51627782a988f59fd50e4c65bf79411567604e63fa930c426040516102db91815260200190565b60405180910390a49392505050565b6001600160a01b0381165f9081526002602090815260409182902080548351818402810184019094528084526060939283018282801561034757602002820191905f5260205f20905b815481526020019060010190808311610333575b50505050509050919050565b5f8181526001602052604081208054829160609183919082036103ac5760405162461bcd60e51b815260206004820152601160248201527013595cdcd859d9481b9bdd08199bdd5b99607a1b6044820152606401610143565b60018101546001600160a01b03163314806103d3575060028101546001600160a01b031633145b6104105760405162461bcd60e51b815260206004820152600e60248201526d139bdd08185d5d1a1bdc9a5e995960921b6044820152606401610143565b6001810154600282015460048301546003840180546001600160a01b0394851694909316929091908290610443906107b7565b80601f016020809104026020016040519081016040528092919081815260200182805461046f906107b7565b80156104ba5780601f10610491576101008083540402835291602001916104ba565b820191905f5260205f20905b81548152906001019060200180831161049d57829003601f168201915b505050505091509450945094509450509193509193565b6001600160a01b0382165f908152600260205260409020546060908215806104f7575080155b15610511575050604080515f8152602081019091526105dd565b828181111561051d5750805b8067ffffffffffffffff811115610536576105366107a3565b60405190808252806020026020018201604052801561055f578160200160208202803683370190505b5092505f61056d82846108f6565b90505f5b828110156105d8576001600160a01b0387165f90815260026020526040902061059a8284610909565b815481106105aa576105aa61091c565b905f5260205f2001548582815181106105c5576105c561091c565b6020908102919091010152600101610571565b505050505b92915050565b80356001600160a01b03811681146105f9575f5ffd5b919050565b5f5f5f60408486031215610610575f5ffd5b610619846105e3565b9250602084013567ffffffffffffffff811115610634575f5ffd5b8401601f81018613610644575f5ffd5b803567ffffffffffffffff81111561065a575f5ffd5b86602082840101111561066b575f5ffd5b939660209190910195509293505050565b5f6020828403121561068c575f5ffd5b610695826105e3565b9392505050565b602080825282518282018190525f918401906040840190835b818110156106d35783518352602093840193909201916001016106b5565b509095945050505050565b5f602082840312156106ee575f5ffd5b5035919050565b60018060a01b038516815260018060a01b0384166020820152608060408201525f8351806080840152806020860160a085015e5f60a0828501015260a0601f19601f83011684010191505082606083015295945050505050565b5f5f60408385031215610760575f5ffd5b610769836105e3565b946020939093013593505050565b634e487b7160e01b5f52601160045260245ffd5b5f6001820161079c5761079c610777565b5060010190565b634e487b7160e01b5f52604160045260245ffd5b600181811c908216806107cb57607f821691505b6020821081036107e957634e487b7160e01b5f52602260045260245ffd5b50919050565b601f82111561083657805f5260205f20601f840160051c810160208510156108145750805b601f840160051c820191505b81811015610833575f8155600101610820565b50505b505050565b815167ffffffffffffffff811115610855576108556107a3565b6108698161086384546107b7565b846107ef565b6020601f82116001811461089b575f83156108845750848201515b5f19600385901b1c1916600184901b178455610833565b5f84815260208120601f198516915b828110156108ca57878501518255602094850194600190920191016108aa565b50848210156108e757868401515f19600387901b60f8161c191681555b50505050600190811b01905550565b818103818111156105dd576105dd610777565b808201808211156105dd576105dd610777565b634e487b7160e01b5f52603260045260245ffdfea26469706673582212200e6e6c467c72c51ae4cdda7d4dc50d8fd3a3e08094e9480c2780b6049e489e8064736f6c634300081c0033",
  "deployedBytecode": "0x608060405234801561000f575f5ffd5b5060043610610055575f3560e01c80630d87afbe146100595780631df83f591461007f57806386f79edb1461009f578063afcc0905146100c2578063f10a7691146100ea575b5f5ffd5b61006c6100673660046105fe565b6100fd565b6040519081526020015b60405180910390f35b61009261008d36600461067c565b6102ea565b604051610076919061069c565b6100b26100ad3660046106de565b610353565b60405161007694939291906106f5565b61006c6100d036600461067c565b6001600160a01b03165f9081526002602052604090205490565b6100926100f836600461074f565b6104d1565b5f6001600160a01b03841661014c5760405162461bcd60e51b815260206004820152601060248201526f24b73b30b634b2103932b1b2b4bb32b960811b60448201526064015b60405180910390fd5b5f8054908061015a8361078b565b91905055505f5490506040518060a00160405280828152602001336001600160a01b03168152602001856001600160a01b0316815260200184848080601f0160208091040260200160405190810160405280939291908181526020018383808284375f920182905250938552505042602093840152508381526001808352604091829020845181559284015190830180546001600160a01b03199081166001600160a01b03938416179091559184015160028401805490931691161790556060820151600382019061022c908261083b565b5060809190910151600490910155335f818152600260209081526040822080546001810182559083529120018290556001600160a01b03851614610295576001600160a01b0384165f908152600260209081526040822080546001810182559083529120018190555b836001600160a01b0316336001600160a01b0316827f0fdc649d679f7453fa51627782a988f59fd50e4c65bf79411567604e63fa930c426040516102db91815260200190565b60405180910390a49392505050565b6001600160a01b0381165f9081526002602090815260409182902080548351818402810184019094528084526060939283018282801561034757602002820191905f5260205f20905b815481526020019060010190808311610333575b50505050509050919050565b5f8181526001602052604081208054829160609183919082036103ac5760405162461bcd60e51b815260206004820152601160248201527013595cdcd859d9481b9bdd08199bdd5b99607a1b6044820152606401610143565b60018101546001600160a01b03163314806103d3575060028101546001600160a01b031633145b6104105760405162461bcd60e51b815260206004820152600e60248201526d139bdd08185d5d1a1bdc9a5e995960921b6044820152606401610143565b6001810154600282015460048301546003840180546001600160a01b0394851694909316929091908290610443906107b7565b80601f016020809104026020016040519081016040528092919081815260200182805461046f906107b7565b80156104ba5780601f10610491576101008083540402835291602001916104ba565b820191905f5260205f20905b81548152906001019060200180831161049d57829003601f168201915b505050505091509450945094509450509193509193565b6001600160a01b0382165f908152600260205260409020546060908215806104f7575080155b15610511575050604080515f8152602081019091526105dd565b828181111561051d5750805b8067ffffffffffffffff811115610536576105366107a3565b60405190808252806020026020018201604052801561055f578160200160208202803683370190505b5092505f61056d82846108f6565b90505f5b828110156105d8576001600160a01b0387165f90815260026020526040902061059a8284610909565b815481106105aa576105aa61091c565b905f5260205f2001548582815181106105c5576105c561091c565b6020908102919091010152600101610571565b505050505b92915050565b80356001600160a01b03811681146105f9575f5ffd5b919050565b5f5f5f60408486031215610610575f5ffd5b610619846105e3565b9250602084013567ffffffffffffffff811115610634575f5ffd5b8401601f81018613610644575f5ffd5b803567ffffffffffffffff81111561065a575f5ffd5b86602082840101111561066b575f5ffd5b939660209190910195509293505050565b5f6020828403121561068c575f5ffd5b610695826105e3565b9392505050565b602080825282518282018190525f918401906040840190835b818110156106d35783518352602093840193909201916001016106b5565b509095945050505050565b5f602082840312156106ee575f5ffd5b5035919050565b60018060a01b038516815260018060a01b0384166020820152608060408201525f8351806080840152806020860160a085015e5f60a0828501015260a0601f19601f83011684010191505082606083015295945050505050565b5f5f60408385031215610760575f5ffd5b610769836105e3565b946020939093013593505050565b634e487b7160e01b5f52601160045260245ffd5b5f6001820161079c5761079c610777565b5060010190565b634e487b7160e01b5f52604160045260245ffd5b600181811c908216806107cb57607f821691505b6020821081036107e957634e487b7160e01b5f52602260045260245ffd5b50919050565b601f82111561083657805f5260205f20601f840160051c810160208510156108145750805b601f840160051c820191505b81811015610833575f8155600101610820565b50505b505050565b815167ffffffffffffffff811115610855576108556107a3565b6108698161086384546107b7565b846107ef565b6020601f82116001811461089b575f83156108845750848201515b5f19600385901b1c1916600184901b178455610833565b5f84815260208120601f198516915b828110156108ca57878501518255602094850194600190920191016108aa565b50848210156108e757868401515f19600387901b60f8161c191681555b50505050600190811b01905550565b818103818111156105dd576105dd610777565b808201808211156105dd576105dd610777565b634e487b7160e01b5f52603260045260245ffdfea26469706673582212200e6e6c467c72c51ae4cdda7d4dc50d8fd3a3e08094e9480c2780b6049e489e8064736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {},
  "immutableReferences": {},
  "inputSourceName": "project/contracts/messages.sol",
  "buildInfoId": "solc-0_8_28-496835c570dbd3b95405c34e3569e36de68bc948"
}